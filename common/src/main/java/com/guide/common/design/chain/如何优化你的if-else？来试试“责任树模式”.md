
## 如何优化你的if-else？来试试“责任树模式”

   

   https://zhuanlan.zhihu.com/p/347079631

### 目标

优化多层if-else嵌套的代码，优化目标：
结构清晰（策略间隔离）、提高可维护性（开闭原则）

        
### 方案

* 责任链模式
    
    目的：一条逐级处理的链式结构，将处理者抽象化降低耦合
    
    局限：顺序执行，不够灵活。
        
* 策略模式

    目的：一组可以替换的组件。不支持多层组件替换。降低耦合。
    
    局限：一般只有一层策略（判断）。

* 广义责任链模式——责任树模式

    目的：将责任链与策略模式融合，即成为了一种广义的责任链模式。
    这种模式不仅可以完成任务的逐级委托，也可以在任一级选择不同的下游策略进行处理。
    
    局限：对多层判断的复杂逻辑，进行了封装,提取成为了一个框架（方法论）。
    有学习成本，且对一般复杂度的逻辑，限制较多,不够友好。
        
        
### 抽象封装

将责任树模式抽象出一个通用的框架，方便大家在遇到类似问题时快速“种树”。
        
          

    
